"use strict";(self.webpackChunkga_4_dataform=self.webpackChunkga_4_dataform||[]).push([[436],{20:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>l,frontMatter:()=>n,metadata:()=>c,toc:()=>x});var r=s(4848),d=s(8453);const n={title:"Misattribution Fixes",description:"We list out the list of misattribution fixes that we implement",sidebar_position:2,slug:"/misattribution-fixes"},i=void 0,c={id:"product-features/misattribution-fixes",title:"Misattribution Fixes",description:"We list out the list of misattribution fixes that we implement",source:"@site/docs/3-product-features/2-misattribution-fixes.md",sourceDirName:"3-product-features",slug:"/misattribution-fixes",permalink:"/docs/misattribution-fixes",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3-product-features/2-misattribution-fixes.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Misattribution Fixes",description:"We list out the list of misattribution fixes that we implement",sidebar_position:2,slug:"/misattribution-fixes"},sidebar:"tutorialSidebar",previous:{title:"Custom Configuration",permalink:"/docs/custom-configuration"},next:{title:"Hidden Configuration",permalink:"/docs/hidden-configuration"}},o={},x=[{value:"Column Descriptions",id:"column-descriptions",level:2}];function h(t){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:'There are several nuances when it comes to finding the "correct" source of an event or a session.\r\nBelow is our subjective interpretation of resolving some of the misattribution issues that come with the GA4 BigQuery export.'}),"\n",(0,r.jsx)(e.admonition,{title:"Do you know of any other cases that should be fixed?",type:"tip",children:(0,r.jsxs)(e.p,{children:["Please contact us at ",(0,r.jsx)(e.a,{href:"mailto:support@ga4dataform.com",children:"support@ga4dataform.com"})," if you know of any other misattribution issues that should be fixed!"]})}),"\n",(0,r.jsxs)(e.p,{children:["In the table below, we show the input and output values when applying fixes for different scenarios. The input row represents the raw data (GA4 export), while the output row shows how we modify each field in the ",(0,r.jsx)(e.code,{children:"fixed_traffic_source"})," struct within the ",(0,r.jsx)(e.code,{children:"ga4_events"})," table. We then use this struct to determine the session traffic source in the ",(0,r.jsx)(e.code,{children:"ga4_sessions"})," table."]}),"\n",(0,r.jsx)(e.p,{children:"You can scroll the table horizontally to view all columns."}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"Test Case"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"State"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"source"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"medium"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"campaign"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"gclid/gbraid/wbraid/dclid"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"srsltid"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"page_referrer"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"ignore_referrer"})})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"1. Organic when GCLID is present"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{children:"google"}),(0,r.jsx)(e.td,{children:"organic"}),(0,r.jsx)(e.td,{children:"(organic)"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"google"}),(0,r.jsx)(e.td,{children:"cpc"}),(0,r.jsx)(e.td,{children:"(not set)"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"2. Non-Google referral with GCLID"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{children:"pinterest.com"}),(0,r.jsx)(e.td,{children:"referral"}),(0,r.jsx)(e.td,{children:"(referral)"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"google"}),(0,r.jsx)(e.td,{children:"cpc"}),(0,r.jsx)(e.td,{children:"(not set)"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"3. UTM with GCLID (no change)"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{children:"google_cpc"}),(0,r.jsx)(e.td,{children:"paid_search"}),(0,r.jsx)(e.td,{children:"non_branded_search"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"google_cpc"}),(0,r.jsx)(e.td,{children:"paid_search"}),(0,r.jsx)(e.td,{children:"non_branded_search"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"4. SRSLTID present"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{children:"mail.google.com"}),(0,r.jsx)(e.td,{children:"referral"}),(0,r.jsx)(e.td,{children:"(referral)"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"AfmBOop4z"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"google"}),(0,r.jsx)(e.td,{children:"organic"}),(0,r.jsx)(e.td,{children:"Shopping Free Listings"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"AfmBOop4z"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"5. Only GCLID present"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"google"}),(0,r.jsx)(e.td,{children:"cpc"}),(0,r.jsx)(e.td,{children:"(not set)"}),(0,r.jsx)(e.td,{children:"CjwKCAjwitShBhA6E"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"6. Google Android app referrer"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"android-app://com.google.android.gm/"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"google"}),(0,r.jsx)(e.td,{children:"organic"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"7. Social Android app referrer"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"android-app://com.pinterest/"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"com.pinterest"}),(0,r.jsx)(e.td,{children:"social"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"8. Other Android app referrer"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"android-app://de.idealo.android/"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"de.idealo.android"}),(0,r.jsx)(e.td,{children:"android-app"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"9. Referrer present, ignore_referrer = FALSE"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Input"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"domain123.com/test456"}),(0,r.jsx)(e.td,{children:"FALSE"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Output"})}),(0,r.jsx)(e.td,{children:"domain123.com"}),(0,r.jsx)(e.td,{children:"referral"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"column-descriptions",children:"Column Descriptions"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"Column Name"})}),(0,r.jsx)(e.th,{children:(0,r.jsx)(e.strong,{children:"Description"})})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Test Case"})}),(0,r.jsx)(e.td,{children:"Name of the scenario being tested"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"State"})}),(0,r.jsx)(e.td,{children:"Whether the row represents input data or expected output after transformation"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"source"})}),(0,r.jsx)(e.td,{children:"The traffic source (e.g.: google, pinterest.com)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"medium"})}),(0,r.jsx)(e.td,{children:"The marketing medium (e.g.: organic, cpc, referral)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"campaign"})}),(0,r.jsx)(e.td,{children:"The marketing campaign name"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"gclid/gbraid/wbraid/dclid"})}),(0,r.jsx)(e.td,{children:"Google Click Identifier - used to track ad clicks"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"srsltid"})}),(0,r.jsx)(e.td,{children:"Google Shopping Free Listings tracking parameter"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"page_referrer"})}),(0,r.jsx)(e.td,{children:"The URL that referred the traffic"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"ignore_referrer"})}),(0,r.jsx)(e.td,{children:"Flag to indicate whether to ignore the referrer information"})]})]})]})]})}function l(t={}){const{wrapper:e}={...(0,d.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(h,{...t})}):h(t)}},8453:(t,e,s)=>{s.d(e,{R:()=>i,x:()=>c});var r=s(6540);const d={},n=r.createContext(d);function i(t){const e=r.useContext(n);return r.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function c(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(d):t.components||d:i(t.components),r.createElement(n.Provider,{value:e},t.children)}}}]);