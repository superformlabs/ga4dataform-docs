"use strict";(self.webpackChunkga_4_dataform=self.webpackChunkga_4_dataform||[]).push([[9683],{1341:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>l});var o=i(4848),r=i(8453);const t={title:"Custom Configuration",description:"Providing instructions on how to customize GA4Dataform.",slug:"/custom-configuration"},s=void 0,a={id:"core-concepts/custom-configuration",title:"Custom Configuration",description:"Providing instructions on how to customize GA4Dataform.",source:"@site/docs/core-concepts/custom-configuration.md",sourceDirName:"core-concepts",slug:"/custom-configuration",permalink:"/docs/custom-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/<your-org>/<your-repo>/edit/main/docs/docs/core-concepts/custom-configuration.md",tags:[],version:"current",frontMatter:{title:"Custom Configuration",description:"Providing instructions on how to customize GA4Dataform.",slug:"/custom-configuration"},sidebar:"tutorialSidebar",previous:{title:"Core Concepts",permalink:"/docs/category/core-concepts"},next:{title:"JavaScript vs SQL",permalink:"/docs/syntax-choice"}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"Configuration Architecture",id:"configuration-architecture",level:2},{value:"Module-Based Structure",id:"module-based-structure",level:3},{value:"Configuration Layers",id:"configuration-layers",level:3},{value:"1. Core Configuration",id:"1-core-configuration",level:4},{value:"2. Custom Configuration",id:"2-custom-configuration",level:4},{value:"Configuration File Formats",id:"configuration-file-formats",level:3},{value:"Configuration Merging",id:"configuration-merging",level:3},{value:"Multi-Module Support",id:"multi-module-support",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(n.p,{children:"The configuration system is arguably the most important element built into GA4Dataform. With a proper configuration, you can manage variables, modularize features, and control your data transformation pipeline without modifying core SQLX files. Think of the configuration as a control panel of JavaScript variables that determine what the final SQL output will look like."}),"\n",(0,o.jsx)(n.p,{children:"You can customize elements such as:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Start date for data processing"}),"\n",(0,o.jsx)(n.li,{children:"User properties to extract"}),"\n",(0,o.jsx)(n.li,{children:"Event and item parameters to unnest"}),"\n",(0,o.jsx)(n.li,{children:"Events to filter out"}),"\n",(0,o.jsx)(n.li,{children:"URL parameters to capture"}),"\n",(0,o.jsx)(n.li,{children:"User stitching \ud83d\udc8e"}),"\n",(0,o.jsx)(n.li,{children:"Session totals \ud83d\udc8e"}),"\n",(0,o.jsx)(n.li,{children:"Session-level custom parameters \ud83d\udc8e"}),"\n",(0,o.jsxs)(n.li,{children:["Support for ",(0,o.jsx)(n.code,{children:"fresh"})," and ",(0,o.jsx)(n.code,{children:"intraday"})," tables \ud83d\udc8e"]}),"\n",(0,o.jsx)(n.li,{children:"... and many more!"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This approach enables distribution of the same Dataform repository without hardcoded variables, making your implementation portable and maintainable."}),"\n",(0,o.jsx)(n.h2,{id:"configuration-architecture",children:"Configuration Architecture"}),"\n",(0,o.jsx)(n.p,{children:"GA4Dataform uses a module-based configuration system with three layers of configuration files organized per module:"}),"\n",(0,o.jsx)(n.h3,{id:"module-based-structure",children:"Module-Based Structure"}),"\n",(0,o.jsxs)(n.p,{children:["Configurations are organized by module under the ",(0,o.jsx)(n.code,{children:"includes/"})," directory:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"includes/\n\u251c\u2500\u2500 core/\n\u2502   \u2514\u2500\u2500 modules/\n\u2502       \u2514\u2500\u2500 ga4/\n\u2502           \u251c\u2500\u2500 config.js           # Default config created by Superform Labs team\n\u2502           \u2514\u2500\u2500 helpers.js          # Module-specific helpers\n\u2514\u2500\u2500 custom/\n    \u2514\u2500\u2500 modules/\n        \u2514\u2500\u2500 ga4/\n            \u2514\u2500\u2500 config.js           # Your custom overrides\n"})}),"\n",(0,o.jsx)(n.h3,{id:"configuration-layers",children:"Configuration Layers"}),"\n",(0,o.jsx)(n.p,{children:"GA4Dataform uses a two-layer configuration system that allows you to customize without modifying core files:"}),"\n",(0,o.jsx)(n.h4,{id:"1-core-configuration",children:"1. Core Configuration"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Location:"})," ",(0,o.jsx)(n.code,{children:"includes/core/modules/ga4/config.js"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Contains all default values and settings"}),"\n",(0,o.jsx)(n.li,{children:"Includes standard event parameters and click IDs"}),"\n",(0,o.jsx)(n.li,{children:"Provides fallback variables to prevent compilation errors"}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Should not be modified by users"})," (will be overwritten during updates)"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"2-custom-configuration",children:"2. Custom Configuration"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Location:"})," ",(0,o.jsx)(n.code,{children:"includes/custom/modules/ga4/config.js"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Your customization layer"}),"\n",(0,o.jsx)(n.li,{children:"Takes precedence over core configuration"}),"\n",(0,o.jsx)(n.li,{children:"Safe from updates and overwrites"}),"\n",(0,o.jsx)(n.li,{children:"Where all your specific settings should be defined"}),"\n",(0,o.jsx)(n.li,{children:"Created with the structure in place but variables set to empty arrays/defaults"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"configuration-file-formats",children:"Configuration File Formats"}),"\n",(0,o.jsx)(n.p,{children:"Configuration files can be in any of these formats:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"JavaScript"})," (",(0,o.jsx)(n.code,{children:".js"}),") - Allows dynamic logic and helper functions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"JSON"})," (",(0,o.jsx)(n.code,{children:".json"}),") - Simple key-value configuration"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"YAML"})," (",(0,o.jsx)(n.code,{children:".yaml"}),") - Human-readable structured format that allows comments"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The system automatically detects and handles the appropriate format."}),"\n",(0,o.jsx)(n.h3,{id:"configuration-merging",children:"Configuration Merging"}),"\n",(0,o.jsx)(n.p,{children:"When you request a module's configuration, GA4Dataform merges the core and custom configurations using a spread operator that prioritizes your custom settings:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'const getModuleConfig = (moduleName) => {\n  const coreConfig = getConfigByType(moduleName, "core");\n  const customConfig = getConfigByType(moduleName);\n  return { ...coreConfig, ...customConfig };\n};\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Usage in your SQLX files:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const config = helpers.getModuleConfig('ga4');\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Your values in ",(0,o.jsx)(n.code,{children:"includes/custom/modules/ga4/config.js"})," will always take precedence over the core configuration, ensuring your customizations are preserved during updates."]}),"\n",(0,o.jsx)(n.h3,{id:"multi-module-support",children:"Multi-Module Support"}),"\n",(0,o.jsxs)(n.p,{children:["The module system allows for multiple independent modules (e.g., ",(0,o.jsx)(n.code,{children:"ga4"}),", ",(0,o.jsx)(n.code,{children:"google_ads"}),", ",(0,o.jsx)(n.code,{children:"gcp_cost"}),"), each with their own configuration:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"includes/custom/modules/\n\u251c\u2500\u2500 ga4/\n\u2502   \u2514\u2500\u2500 config.js\n\u251c\u2500\u2500 google_ads/\n\u2502   \u2514\u2500\u2500 config.yaml\n\u2514\u2500\u2500 gcp_cost/\n    \u2514\u2500\u2500 config.json\n"})}),"\n",(0,o.jsx)(n.p,{children:"Each module can be enabled/disabled and configured independently through its respective configuration file."}),"\n",(0,o.jsxs)(n.p,{children:["All configuration variables and detailed instructions on how to use them available at the ",(0,o.jsx)(n.a,{href:"configuration-variables",children:"configuration variable page"}),"!"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var o=i(6540);const r={},t=o.createContext(r);function s(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);