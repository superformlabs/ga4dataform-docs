"use strict";(self.webpackChunkga_4_dataform=self.webpackChunkga_4_dataform||[]).push([[8087],{5450:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var s=n(4848),a=n(8453);const o={title:"What's Next After Installation?",description:"What to do after GA4Dataform installation.",slug:"/whats-next"},r=void 0,i={id:"whats-next",title:"What's Next After Installation?",description:"What to do after GA4Dataform installation.",source:"@site/docs/whats-next.md",sourceDirName:".",slug:"/whats-next",permalink:"/docs/whats-next",draft:!1,unlisted:!1,editUrl:"https://github.com/<your-org>/<your-repo>/edit/main/docs/docs/whats-next.md",tags:[],version:"current",frontMatter:{title:"What's Next After Installation?",description:"What to do after GA4Dataform installation.",slug:"/whats-next"},sidebar:"tutorialSidebar",previous:{title:"Get Started",permalink:"/docs/get-started"},next:{title:"Installer",permalink:"/docs/category/installer"}},c={},l=[{value:"Custom Configuration",id:"custom-configuration",level:2},{value:"Start Date",id:"start-date",level:3},{value:"Custom Event Parameters",id:"custom-event-parameters",level:3},{value:"User Properties",id:"user-properties",level:3},{value:"Custom Item Parameters",id:"custom-item-parameters",level:3},{value:"Custom URL Parameters",id:"custom-url-parameters",level:3},{value:"Exclude Events",id:"exclude-events",level:3},{value:"Include/Exclude Hostname",id:"includeexclude-hostname",level:3},{value:"Last Non-Direct Lookback Days",id:"last-non-direct-lookback-days",level:3},{value:"Assertions",id:"assertions",level:3},{value:"Save your changes",id:"save-your-changes",level:2},{value:"Run the models",id:"run-the-models",level:2},{value:"Run it manually",id:"run-it-manually",level:3},{value:"1. In your Dataform workspace, click on &quot;Start Execution&quot;",id:"1-in-your-dataform-workspace-click-on-start-execution",level:4},{value:"2. Execute all the actions you need",id:"2-execute-all-the-actions-you-need",level:4},{value:"3. Check for success",id:"3-check-for-success",level:4},{value:"Create a Release and Workflow configuration",id:"create-a-release-and-workflow-configuration",level:3},{value:"1. Navigate to <code>Releases and Scheduling</code> in your Dataform repository",id:"1-navigate-to-releases-and-scheduling-in-your-dataform-repository",level:4},{value:"2. Create a <code>Release configuration</code> with your preferred schedule",id:"2-create-a-release-configuration-with-your-preferred-schedule",level:4},{value:"3. Create a <code>Workflow configuration</code> with your preferred schedule",id:"3-create-a-workflow-configuration-with-your-preferred-schedule",level:4},{value:"Check BigQuery output",id:"check-bigquery-output",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Before running the queries, we recommend customizing your setup.\nIf you want to learn more about the details of the custom configurations, take a look at ",(0,s.jsx)(t.a,{href:"https://docs.ga4dataform.com/docs/custom-configuration",children:"this documentation page"}),"!"]}),"\n",(0,s.jsx)(t.p,{children:"This page demonstrates an example setup of the customization."}),"\n",(0,s.jsx)(t.h2,{id:"custom-configuration",children:"Custom Configuration"}),"\n",(0,s.jsxs)(t.p,{children:["In your newly created Dataform repository, click on a workspace and navigate to ",(0,s.jsx)(t.code,{children:"includes/custom/config.js"}),". Here you will see all the currently available configuration options that you can tweak."]}),"\n",(0,s.jsx)(t.h3,{id:"start-date",children:"Start Date"}),"\n",(0,s.jsxs)(t.p,{children:["If you want to process all of your data, you can just leave ",(0,s.jsx)(t.code,{children:"GA4_START_DATE"})," as is, but feel free to change it to your preferred start date. The format is ",(0,s.jsx)(t.code,{children:"YYYY-MM-DD"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"custom-event-parameters",children:"Custom Event Parameters"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'CUSTOM_EVENT_PARAMS_ARRAY: [\n        { name: "lead_value", type: "decimal" },\n        { name: "consent", type: "string", renameTo: "consent_status" },\n        { name: "form_id", type: "string", cleaningMethod: lowerSQL}\n  ]\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Here we configured a JavaScript array of objects where each object provides how an event parameter should be extracted and stored in the ",(0,s.jsx)(t.code,{children:"event_params_custom"})," STRUCT."]}),"\n",(0,s.jsx)(t.h3,{id:"user-properties",children:"User Properties"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'CUSTOM_USER_PROPERTIES_ARRAY: [\n        { name: "lifetime_value",   type: "decimal" },\n        { name: "membership_status",   type: "string", renameTo: "membership" }\n  ]\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Above we set up which user properties should be parsed and stored in the ",(0,s.jsx)(t.code,{children:"user_properties"})," STRUCT."]}),"\n",(0,s.jsx)(t.h3,{id:"custom-item-parameters",children:"Custom Item Parameters"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'CUSTOM_ITEM_PARAMS_ARRAY: [\n        { name: "stock_status", type: "string", cleaningMethod: lowerSQL },\n        { name: "cogs", type: "decimal", renameTo: "cost_of_goods_sold" }\n  ]\n'})}),"\n",(0,s.jsxs)(t.p,{children:["This configuration defines which custom item parameters should be parsed and stored in the ",(0,s.jsx)(t.code,{children:"item_params_custom"})," STRUCT."]}),"\n",(0,s.jsx)(t.h3,{id:"custom-url-parameters",children:"Custom URL Parameters"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'CUSTOM_URL_PARAMS_ARRAY: [\n        { name: "q", cleaningMethod: lowerSQL },\n        { name: "s", cleaningMethod: lowerSQL },\n        { name: "search", cleaningMethod: lowerSQL },\n        { name: "product-size", renameTo: "size" }\n  ]\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Above we set up which URL parameters should be parsed and stored in the ",(0,s.jsx)(t.code,{children:"url_params_custom"})," STRUCT."]}),"\n",(0,s.jsxs)(t.admonition,{type:"warning",children:[(0,s.jsxs)(t.mdxAdmonitionTitle,{children:[(0,s.jsx)(t.code,{children:"type"})," key is not available for URL params"]}),(0,s.jsxs)(t.p,{children:["You cannot set ",(0,s.jsx)(t.code,{children:"type"})," as only strings are supported."]})]}),"\n",(0,s.jsx)(t.h3,{id:"exclude-events",children:"Exclude Events"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'  EVENTS_TO_EXCLUDE: ["user_engagement", "scroll"]\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Here we excluded ",(0,s.jsx)(t.code,{children:"user_engagement"})," and ",(0,s.jsx)(t.code,{children:"scroll"})," events from being processed."]}),"\n",(0,s.jsx)(t.h3,{id:"includeexclude-hostname",children:"Include/Exclude Hostname"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'  HOSTNAME_EXCLUDE: []\n  HOSTNAME_INCLUDE_ONLY: [ "www.ga4dataform.com", "ga4dataform.com" ]\n'})}),"\n",(0,s.jsx)(t.p,{children:"Now we only process events that fired on our own domain."}),"\n",(0,s.jsx)(t.h3,{id:"last-non-direct-lookback-days",children:"Last Non-Direct Lookback Days"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"  LAST_NON_DIRECT_LOOKBACK_DAYS: 90\n"})}),"\n",(0,s.jsx)(t.p,{children:"We can leave it at 90 to match GA4's setting."}),"\n",(0,s.jsx)(t.h3,{id:"assertions",children:"Assertions"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"  // id uniqueness checks\n  ASSERTIONS_EVENT_ID_UNIQUENESS: true,\n  ASSERTIONS_SESSION_ID_UNIQUENESS: true,\n\n  // check for session durations and events look valid?\n  ASSERTIONS_SESSION_DURATION_VALIDITY: true,\n  ASSERTIONS_SESSIONS_VALIDITY: true, \n  // check GA4 tables: are they on time?\n  ASSERTIONS_TABLES_TIMELINESS: true,\n  // check for a transaction IDs on a purchase?\n  ASSERTIONS_TRANSACTION_ID_COMPLETENESS: false,\n  // check for cookies on all hits? (note: cookieless pings will trigger a fail)\n  ASSERTIONS_USER_PSEUDO_ID_COMPLETENESS: false\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Feel free to change any of these to ",(0,s.jsx)(t.code,{children:"true"})," or ",(0,s.jsx)(t.code,{children:"false"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"save-your-changes",children:"Save your changes"}),"\n",(0,s.jsx)(t.p,{children:"After making sure all your configurations are valid (no typos etc.), you can commit and push the applied changes."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(5272).A+"",width:"2362",height:"1231"})}),"\n",(0,s.jsx)(t.p,{children:"A successful push is indicated by an up-to-date workspace and a green checkmark."}),"\n",(0,s.jsx)(t.h2,{id:"run-the-models",children:"Run the models"}),"\n",(0,s.jsx)(t.p,{children:"Next you can run the models manually or you can create a release and a workflow configuration and set it up to run every day (if you didn't with the Installer). If you want to inspect the results immediately and also have an automation in place, you should do both!"}),"\n",(0,s.jsxs)(t.admonition,{title:"Cost Considerations",type:"warning",children:[(0,s.jsxs)(t.p,{children:["Running the models can ",(0,s.jsx)(t.strong,{children:"incur costs"})," in BigQuery.\nDo your due diligence and verify that the amount of data you will process is according to your expectations!"]}),(0,s.jsxs)(t.p,{children:["Also make sure to ",(0,s.jsx)(t.strong,{children:"first apply all the changes you need"})," so you don't have to rebuild your tables unless absolutely necessary."]})]}),"\n",(0,s.jsx)(t.h3,{id:"run-it-manually",children:"Run it manually"}),"\n",(0,s.jsx)(t.h4,{id:"1-in-your-dataform-workspace-click-on-start-execution",children:'1. In your Dataform workspace, click on "Start Execution"'}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(7294).A+"",width:"2374",height:"1260"})}),"\n",(0,s.jsx)(t.h4,{id:"2-execute-all-the-actions-you-need",children:"2. Execute all the actions you need"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(4021).A+"",width:"1597",height:"1421"})}),"\n",(0,s.jsx)(t.h4,{id:"3-check-for-success",children:"3. Check for success"}),"\n",(0,s.jsx)(t.p,{children:'Under "Workflow execution logs" you can check if the model has run successfully.'}),"\n",(0,s.jsx)(t.admonition,{title:"Processing Time",type:"warning",children:(0,s.jsx)(t.p,{children:"Depending on the size of your data and the amount of parameters that need to be unnested, it might take quite a while for BigQuery to process everything. It can take somewhere from 1-2 minutes to even 2 hours in some rare cases."})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(2470).A+"",width:"2417",height:"1352"})}),"\n",(0,s.jsx)(t.p,{children:"The successful completion will be shown with green checkmarks!"}),"\n",(0,s.jsx)(t.h3,{id:"create-a-release-and-workflow-configuration",children:"Create a Release and Workflow configuration"}),"\n",(0,s.jsxs)(t.p,{children:["When you use the ",(0,s.jsx)(t.a,{href:"https://setup.ga4dataform.com/",children:"GA4Dataform Installer"}),", you can optionally create a Release and Workflow configuration that run at 9AM and 10AM UTC respectively.\nIf you forgot or opted not to do it, here is a quick recap on what needs to be done."]}),"\n",(0,s.jsxs)(t.h4,{id:"1-navigate-to-releases-and-scheduling-in-your-dataform-repository",children:["1. Navigate to ",(0,s.jsx)(t.code,{children:"Releases and Scheduling"})," in your Dataform repository"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(5999).A+"",width:"2053",height:"1156"})}),"\n",(0,s.jsxs)(t.h4,{id:"2-create-a-release-configuration-with-your-preferred-schedule",children:["2. Create a ",(0,s.jsx)(t.code,{children:"Release configuration"})," with your preferred schedule"]}),"\n",(0,s.jsx)(t.admonition,{title:"Use Custom Scheduling",type:"tip",children:(0,s.jsx)(t.p,{children:"You can use any CRON expression to run your schedule."})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(1508).A+"",width:"1636",height:"1433"})}),"\n",(0,s.jsxs)(t.h4,{id:"3-create-a-workflow-configuration-with-your-preferred-schedule",children:["3. Create a ",(0,s.jsx)(t.code,{children:"Workflow configuration"})," with your preferred schedule"]}),"\n",(0,s.jsx)(t.admonition,{title:"Schedule it to run after the Release",type:"tip",children:(0,s.jsxs)(t.p,{children:["A workflow runs the latest Release configuration it is attached to (e.g.: production) so make sure to run the Workflow ",(0,s.jsx)(t.strong,{children:"after"})," the release."]})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(8189).A+"",width:"1442",height:"1051"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(290).A+"",width:"1712",height:"1386"})}),"\n",(0,s.jsx)(t.h2,{id:"check-bigquery-output",children:"Check BigQuery output"}),"\n",(0,s.jsxs)(t.p,{children:["After running Dataform, you can inspect the result tables in BigQuery.\nIf you want to see the full list of tables that are produced, check ",(0,s.jsx)(t.a,{href:"https://docs.ga4dataform.com/docs/project-architecture#bigquery-output",children:"this documentation page"}),"!"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"screenshot",src:n(4747).A+"",width:"981",height:"867"})})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},4747:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/bigquery-output-02509b39c58d86153322c9c68bc2de18.png"},5272:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/commit-e801a0cf2bae6bbfc53136068276f65b.png"},7294:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/run-it-manually-1-9c3517b9144aa5e5ea191f04e4f15fb0.png"},4021:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/run-it-manually-2-d44d8e4d1d22708f4be8faee41b56cf2.png"},5999:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/workflow-scheduling-1-2650f4d8163fc1e782b955a144581c1b.png"},1508:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/workflow-scheduling-2-b79d30a4e6d16bc5e44d5b0798bb1acb.png"},8189:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/workflow-scheduling-3-bacd6f6a63ddaec8e8f287e674c2a7ec.png"},290:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/workflow-scheduling-4-ab3ac01430f0b7052c9d992ab3f3f951.png"},2470:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/workflow-success-d42caf45a69ee5b2e5f3cda07b289ee3.png"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var s=n(6540);const a={},o=s.createContext(a);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);