"use strict";(self.webpackChunkga_4_dataform=self.webpackChunkga_4_dataform||[]).push([[344],{9501:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var n=t(4848),r=t(8453);const i={title:"Custom Configuration",description:"Providing instructions on how to customize GA4Dataform.",sidebar_position:1,slug:"/custom-configuration"},o=void 0,a={id:"product-features/custom-configuration",title:"Custom Configuration",description:"Providing instructions on how to customize GA4Dataform.",source:"@site/docs/3-product-features/1-custom-configuration.md",sourceDirName:"3-product-features",slug:"/custom-configuration",permalink:"/docs/custom-configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/3-product-features/1-custom-configuration.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Custom Configuration",description:"Providing instructions on how to customize GA4Dataform.",sidebar_position:1,slug:"/custom-configuration"},sidebar:"tutorialSidebar",previous:{title:"Get Started",permalink:"/docs/getting-started"},next:{title:"Misattribution Fixes",permalink:"/docs/misattribution-fixes"}},c={},l=[];function d(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components},{Details:t}=s;return t||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"definitions/custom/config.js"})," file allows you to customize various aspects of the GA4Dataform models. You can control settings such as custom parameters, event filtering, hostname filtering, start date, and data validation checks."]}),"\n",(0,n.jsxs)(s.p,{children:["If you are interested in seeing how these can be implemented after the install, take a look at the ",(0,n.jsx)(s.a,{href:"https://docs.ga4dataform.com/docs/post-installation-guide",children:"Post-Installation Guide"}),"!"]}),"\n",(0,n.jsx)(s.p,{children:"Click on each card below to see more details!"}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"GA4 Start Date"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'GA4_START_DATE: "2020-01-01"\n'})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": Defines the starting date for the GA4 data that the model should process.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Change this date to reflect the earliest data you want to include in your reports. For example, if you started collecting GA4 data on a different date, modify this to match that date."]})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Custom Event Parameters"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"CUSTOM_EVENT_PARAMS_ARRAY: []\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": This allows you to specify custom event parameters that are not part of the standard GA4 data. The custom parameters will be added to the ",(0,n.jsx)(s.code,{children:"event_params_custom"})," column.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Add parameters using the format ",(0,n.jsx)(s.code,{children:'"{ name: "paramname", type: "TYPE", renameTo: "outputcolumnname" }"'}),"."]}),(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"name"}),(0,n.jsx)(s.td,{children:"The original event parameter name to extract"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"type"}),(0,n.jsxs)(s.td,{children:["Data type for extraction and storage. ",(0,n.jsx)(s.code,{children:"int"}),": Extracts from int_value, stores as INT; ",(0,n.jsx)(s.code,{children:"string"}),": Extracts from all values, stores as STRING; ",(0,n.jsx)(s.code,{children:"decimal"}),": Extracts from all numerical values, stores as FLOAT"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"renameTo"}),(0,n.jsx)(s.td,{children:"Optional - New name for the output column. If not specified, original parameter name is used"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cleaningMethod"}),(0,n.jsxs)(s.td,{children:["Optional - Transformation method to apply: ",(0,n.jsx)(s.code,{children:"lowerSQL"}),": Converts string outputs to lowercase"]})]})]})]}),(0,n.jsx)("strong",{children:"Example:"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"CUSTOM_EVENT_PARAMS_ARRAY: [\n  { name: 'custom_param', type: 'string', renameTo: 'custom_output' },\n  { name: 'n_items', type: 'int' }\n]\n"})})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Custom Item Parameters"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"CUSTOM_ITEM_PARAMS_ARRAY: []\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": Similar to event parameters, but for item custom dimensions and metrics. These will be stored in the ",(0,n.jsx)(s.code,{children:"items.item_params_custom.*"})," column.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Add custom item parameters in the same format."]}),(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"name"}),(0,n.jsx)(s.td,{children:"The original item parameter name to extract"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"type"}),(0,n.jsxs)(s.td,{children:["Data type for extraction and storage. ",(0,n.jsx)(s.code,{children:"int"}),": Extracts from int_value, stores as INT; ",(0,n.jsx)(s.code,{children:"string"}),": Extracts from all values, stores as STRING; ",(0,n.jsx)(s.code,{children:"decimal"}),": Extracts from all numerical values, stores as FLOAT"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"renameTo"}),(0,n.jsx)(s.td,{children:"Optional - New name for the output column. If not specified, original parameter name is used"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cleaningMethod"}),(0,n.jsxs)(s.td,{children:["Optional - Transformation method to apply: ",(0,n.jsx)(s.code,{children:"lowerSQL"}),": Converts string outputs to lowercase"]})]})]})]}),(0,n.jsx)("strong",{children:"Example:"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'CUSTOM_ITEM_PARAMS_ARRAY: [\n  { name: "stock_status", type: "string" }\n]\n'})})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Custom URL Parameters"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"CUSTOM_URL_PARAMS_ARRAY: []\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": Allows you to extract custom URL parameters into their own columns.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Define custom URL parameters you want to extract in the format ",(0,n.jsx)(s.code,{children:'"{ name: "param_name", cleaningMethod: method }"'}),". Note that URL params will always be strings. These will be stored in the ",(0,n.jsx)(s.code,{children:"url_params_custom"})," column.\n",(0,n.jsx)("strong",{children:"Cleaning Methods"}),": For now, the only cleaning method supported is ",(0,n.jsx)(s.code,{children:"lowerSQL"}),". This will transform the string to lower case. Note: use ",(0,n.jsx)(s.code,{children:"lowerSQL"})," without quotes."]}),(0,n.jsx)("strong",{children:"Example:"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'CUSTOM_URL_PARAMS_ARRAY: [\n  { name: "q", cleaningMethod: lowerSQL },\n  { name: "product-size", renameTo: "size" }\n]\n'})})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"User Properties"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"CUSTOM_USER_PROPERTIES_ARRAY: []\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": Allows you to extract user properties into their own columns.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Define user properties you want to extract in the format ",(0,n.jsx)(s.code,{children:'"{ name: "param_name", cleaningMethod: method }"'}),". These will be stored in the ",(0,n.jsx)(s.code,{children:"user_properties"})," column."]}),(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"name"}),(0,n.jsx)(s.td,{children:"The original user property name to extract"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"type"}),(0,n.jsxs)(s.td,{children:["Data type for extraction and storage. ",(0,n.jsx)(s.code,{children:"int"}),": Extracts from int_value, stores as INT; ",(0,n.jsx)(s.code,{children:"string"}),": Extracts from all values, stores as STRING; ",(0,n.jsx)(s.code,{children:"decimal"}),": Extracts from all numerical values, stores as FLOAT"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"renameTo"}),(0,n.jsx)(s.td,{children:"Optional - New name for the output column. If not specified, original parameter name is used"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cleaningMethod"}),(0,n.jsxs)(s.td,{children:["Optional - Transformation method to apply: ",(0,n.jsx)(s.code,{children:"lowerSQL"}),": Converts string outputs to lowercase"]})]})]})]}),(0,n.jsx)("strong",{children:"Example:"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'  CUSTOM_USER_PROPERTIES_ARRAY: [\n  { name: "lifetime_value",   type: "decimal" },\n  { name: "membership_status", renameTo: "membership" }\n]\n'})})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Event and Hostname Filters"}),(0,n.jsx)("strong",{children:"Events to Exclude"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"EVENTS_TO_EXCLUDE: []\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": List the event names that should be excluded from the events table.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Add event names you don\u2019t want to process.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Example:"})]}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'EVENTS_TO_EXCLUDE: ["user_engagement", "scroll"]\n'})}),(0,n.jsx)("strong",{children:"Hostname Exclude/Include"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"HOSTNAME_EXCLUDE: []\nHOSTNAME_INCLUDE_ONLY: []\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": Exclude or include specific hostnames from the data.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Add hostnames to either list based on whether you want to include or exclude them from the data.\n",(0,n.jsx)("strong",{children:"Example:"})]}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'HOSTNAME_EXCLUDE: []\nHOSTNAME_INCLUDE_ONLY: [ "www.ga4dataform.com", "ga4dataform.com" ]\n'})})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Last Non-Direct Lookback Days"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"LAST_NON_DIRECT_LOOKBACK_DAYS: 90\n"})}),(0,n.jsxs)(s.p,{children:[(0,n.jsx)("strong",{children:"Description"}),": Defines the number of days to look back when assigning a source for a user who lands on your site without any known sources.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)("strong",{children:"Customization"}),": Change the number of days to your liking."]})]}),"\n",(0,n.jsxs)(t,{children:[(0,n.jsx)("summary",{children:"Data Quality Assertions"}),(0,n.jsx)("p",{children:"These assertions check the data for consistency and quality. You can enable or disable specific checks by setting them to true or false."}),(0,n.jsx)("strong",{children:"Event ID Uniqueness"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_EVENT_ID_UNIQUENESS: true\n"})}),(0,n.jsx)(s.p,{children:"Ensures that each event has a unique event ID."}),(0,n.jsx)("strong",{children:"Session ID Uniqueness"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_SESSION_ID_UNIQUENESS: true\n"})}),(0,n.jsx)(s.p,{children:"Ensures that each session has a unique session ID."}),(0,n.jsx)("strong",{children:"Session Duration Validity"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_SESSION_DURATION_VALIDITY: true\n"})}),(0,n.jsx)(s.p,{children:"Ensures that session durations are valid and within reasonable limits."}),(0,n.jsx)("strong",{children:"Session Validity"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_SESSIONS_VALIDITY: true\n"})}),(0,n.jsx)(s.p,{children:"Validates that session data is correct."}),(0,n.jsx)("strong",{children:"Tables Timeliness"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_TABLES_TIMELINESS: true\n"})}),(0,n.jsx)(s.p,{children:"Checks if the GA4 tables are up to date."}),(0,n.jsx)("strong",{children:"Transaction ID Completeness"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_TRANSACTION_ID_COMPLETENESS: false\n"})}),(0,n.jsx)(s.p,{children:"Checks if transaction IDs are present for purchase events."}),(0,n.jsx)("strong",{children:"User Pseudo ID Completeness"}),(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"ASSERTIONS_USER_PSEUDO_ID_COMPLETENESS: false\n"})}),(0,n.jsx)(s.p,{children:'Ensures that the "user_pseudo_id" is present for all hits.'}),(0,n.jsx)(s.admonition,{title:"Advanced Consent Mode",type:"warning",children:(0,n.jsx)(s.p,{children:"If you use Advanced Consent Mode, this assertion will always fail."})})]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(6540);const r={},i=n.createContext(r);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);