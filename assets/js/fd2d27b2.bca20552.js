"use strict";(self.webpackChunkga_4_dataform=self.webpackChunkga_4_dataform||[]).push([[762],{1537:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var o=i(4848),t=i(8453);const a={title:"Compilation in Dataform",description:"This short article will explain you everything about compliation in Dataform",slug:"/release-configurations-compilations"},r=void 0,l={id:"dataform-academy/release-configurations-compilations",title:"Compilation in Dataform",description:"This short article will explain you everything about compliation in Dataform",source:"@site/docs/dataform-academy/release-configurations-compilations.md",sourceDirName:"dataform-academy",slug:"/release-configurations-compilations",permalink:"/docs/release-configurations-compilations",draft:!1,unlisted:!1,editUrl:"https://github.com/<your-org>/<your-repo>/edit/main/docs/docs/dataform-academy/release-configurations-compilations.md",tags:[],version:"current",frontMatter:{title:"Compilation in Dataform",description:"This short article will explain you everything about compliation in Dataform",slug:"/release-configurations-compilations"},sidebar:"tutorialSidebar",previous:{title:"Run GA4Dataform Model manually",permalink:"/docs/run-the-model-manually"},next:{title:"Strict Act-as Mode",permalink:"/docs/strict-act-as-mode"}},s={},c=[{value:"What is Compilation in Computer Science?",id:"what-is-compilation-in-computer-science",level:2},{value:"Compilation and execution flow",id:"compilation-and-execution-flow",level:2},{value:"Compilation in Dataform",id:"compilation-in-dataform",level:2},{value:"Why you need to Compile before running workflows?",id:"why-you-need-to-compile-before-running-workflows",level:2},{value:"Key Takeaway",id:"key-takeaway",level:2}];function d(e){const n={code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"screenshot",src:i(2033).A+"",width:"2537",height:"1056"})}),"\n",(0,o.jsx)(n.h2,{id:"what-is-compilation-in-computer-science",children:"What is Compilation in Computer Science?"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"Compilation is the process of translating code written in a high-level language into a lower-level representation that can actually be executed by a machine. The compiler ensures that the code is syntactically valid, resolves dependencies, and produces an executable artifact. Without compilation, your code is just text \u2014 understandable by humans but not directly executable by a machine."})}),"\n",(0,o.jsx)(n.p,{children:"If you don't have any Computer Science background, this definition will probably still very confusing.  Let's take a look at what it actually means in Dataform."}),"\n",(0,o.jsx)(n.h2,{id:"compilation-and-execution-flow",children:"Compilation and execution flow"}),"\n",(0,o.jsx)(n.p,{children:"The execution flow in Dataform works as follows:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"You update SQLX code in your repository"}),"\n",(0,o.jsx)(n.li,{children:"A release configuration compiles the repository into executable SQL"}),"\n",(0,o.jsx)(n.li,{children:"A workflow runs using that compiled version"}),"\n",(0,o.jsx)(n.li,{children:"BigQuery executes the resulting SQL queries in order"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"If step 2 does not happen after code changes, step 3 will still run\u2014but against old logic."}),"\n",(0,o.jsx)(n.h2,{id:"compilation-in-dataform",children:"Compilation in Dataform"}),"\n",(0,o.jsx)(n.p,{children:"In dataform, instead of writing raw SQL, we use SQLX. SQLX allow us to add layer of abstraction like:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ref()"})," statements to declare dependencies."]}),"\n",(0,o.jsxs)(n.li,{children:["Configurations variables such as ",(0,o.jsx)(n.code,{children:'type: "incremental".'})]}),"\n",(0,o.jsxs)(n.li,{children:["Macros like ",(0,o.jsx)(n.code,{children:"incremental()"})," or ",(0,o.jsx)(n.code,{children:"self()"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"These commands don\u2019t exist in SQL. Consequently, before excuting any SQLX model, Dataform needs to compile them into plain SQL to be run by BigQuery."}),"\n",(0,o.jsx)(n.p,{children:"During compilation, Dataform:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Resolves references (turning ",(0,o.jsx)(n.code,{children:"ref()"})," into full table name)."]}),"\n",(0,o.jsx)(n.li,{children:"Validates configurations and dependencies."}),"\n",(0,o.jsx)(n.li,{children:"Builds the Directed Acyclic Graph (DAG) - Represented as the Compiled Graph in your workspace."}),"\n",(0,o.jsx)(n.li,{children:"Generates the final SQL queries and execution plan."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The output is a set of compiled SQL statements and a dependency graph that ensures the right execution order."}),"\n",(0,o.jsx)(n.h2,{id:"why-you-need-to-compile-before-running-workflows",children:"Why you need to Compile before running workflows?"}),"\n",(0,o.jsx)(n.p,{children:"Workflows run against a compiled version of the Dataform repository. If you update the repository without creating a new compilation, workflows will continue to use the previous compilation, and your latest changes will not be executed.\nConpilation acts as the bridge between your repository and the code executed in a workflow. To run the most recent changes of a repository you will always have to recompile first."}),"\n",(0,o.jsx)(n.h2,{id:"key-takeaway",children:"Key Takeaway"}),"\n",(0,o.jsx)(n.p,{children:"Whenerver you want to update your repo in Dataform you will always have to Commit, Compile and Run!"})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},2033:(e,n,i)=>{i.d(n,{A:()=>o});const o=i.p+"assets/images/compilation-636f12512c863dfb9a0a5cdd5f5a9bc4.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var o=i(6540);const t={},a=o.createContext(t);function r(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);