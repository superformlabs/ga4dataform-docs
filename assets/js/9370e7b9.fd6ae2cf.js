"use strict";(self.webpackChunkga_4_dataform=self.webpackChunkga_4_dataform||[]).push([[8477],{8037:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>o});var i=s(4848),t=s(8453);const d={title:"Events",description:"Information about events table",slug:"/output-tables/events"},r=void 0,c={id:"references/output-tables/events",title:"Events",description:"Information about events table",source:"@site/docs/references/output-tables/events.md",sourceDirName:"references/output-tables",slug:"/output-tables/events",permalink:"/docs/output-tables/events",draft:!1,unlisted:!1,editUrl:"https://github.com/<your-org>/<your-repo>/edit/main/docs/docs/references/output-tables/events.md",tags:[],version:"current",frontMatter:{title:"Events",description:"Information about events table",slug:"/output-tables/events"},sidebar:"tutorialSidebar",previous:{title:"Transactions",permalink:"/docs/output-tables/transactions"},next:{title:"Sessions",permalink:"/docs/output-tables/sessions"}},l={},o=[{value:"Design &amp; Features",id:"design--features",level:2},{value:"Config Options",id:"config-options",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"design--features",children:"Design & Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One row per GA4 event"}),"\n",(0,i.jsx)(n.li,{children:"Flattened"}),"\n",(0,i.jsx)(n.li,{children:"Incremental build (delete + insert)"}),"\n",(0,i.jsxs)(n.li,{children:["Partitioned by ",(0,i.jsx)(n.code,{children:"event_date"})]}),"\n",(0,i.jsxs)(n.li,{children:["Clustered by ",(0,i.jsx)(n.code,{children:"event_name"}),", ",(0,i.jsx)(n.code,{children:"session_id"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"event_id"})," is generated with ",(0,i.jsx)(n.code,{children:"farm_fingerprint()"})," over: event_name, event_timestamp, user_pseudo_id, GA session ID, batch IDs, transaction ID, engagement time, etc."]}),"\n",(0,i.jsxs)(n.li,{children:["An ",(0,i.jsx)(n.code,{children:"is_final"})," flag marks rows that are older than 3 days (72h)"]}),"\n",(0,i.jsxs)(n.li,{children:["Reads from ",(0,i.jsx)(n.code,{children:"analytics_<property_id>.events_*"})," and optionally ",(0,i.jsx)(n.code,{children:"fresh_"})," / ",(0,i.jsx)(n.code,{children:"intraday_"})," shards, depending on config","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.code,{children:"table_suffix"})," column keeps the original shard name."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"is_measurement_protocol_hit"})," column to flag MP hits."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"(not set)"})," transaction IDs are converted to ",(0,i.jsx)(n.code,{children:"NULL"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Filter out Audience Events."}),"\n",(0,i.jsxs)(n.li,{children:["Create a traffic source struct with this precedence:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Manual params (if present)."}),"\n",(0,i.jsx)(n.li,{children:"Otherwise, fallback to event params (for backwards compatibility)."}),"\n",(0,i.jsx)(n.li,{children:"Otherwise, fallback to UTM parameters."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Fix various ",(0,i.jsx)(n.a,{href:"/docs/misattribution-fixes",children:"misattribution issues"})]}),"\n",(0,i.jsxs)(n.li,{children:["Contains a wide set of standard & recommended GA4 parameters:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Session-level: ",(0,i.jsx)(n.code,{children:"ga_session_id"}),", ",(0,i.jsx)(n.code,{children:"ga_session_number"}),", ",(0,i.jsx)(n.code,{children:"engagement_time_msec"}),", etc."]}),"\n",(0,i.jsxs)(n.li,{children:["Campaign & traffic: ",(0,i.jsx)(n.code,{children:"medium"}),", ",(0,i.jsx)(n.code,{children:"source"}),", ",(0,i.jsx)(n.code,{children:"campaign"}),", ",(0,i.jsx)(n.code,{children:"term"}),", ",(0,i.jsx)(n.code,{children:"gclid"}),", ",(0,i.jsx)(n.code,{children:"dclid"}),", ",(0,i.jsx)(n.code,{children:"srsltid"}),", ",(0,i.jsx)(n.code,{children:"aclid"}),", etc."]}),"\n",(0,i.jsxs)(n.li,{children:["Page info: ",(0,i.jsx)(n.code,{children:"page_location"}),", ",(0,i.jsx)(n.code,{children:"page_referrer"}),", ",(0,i.jsx)(n.code,{children:"page_title"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Ecommerce: ",(0,i.jsx)(n.code,{children:"currency"}),", ",(0,i.jsx)(n.code,{children:"shipping"}),", ",(0,i.jsx)(n.code,{children:"tax"}),", ",(0,i.jsx)(n.code,{children:"transaction_id"}),", ",(0,i.jsx)(n.code,{children:"value"}),", etc."]}),"\n",(0,i.jsxs)(n.li,{children:["Engagement & video: ",(0,i.jsx)(n.code,{children:"percent_scrolled"}),", ",(0,i.jsx)(n.code,{children:"video_duration"}),", ",(0,i.jsx)(n.code,{children:"video_percent"}),", etc."]}),"\n",(0,i.jsx)(n.li,{children:"Form, file downloads, search, lead params and more."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"config-options",children:"Config Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GA4_START_DATE"})," \u2013 baseline start date if the table is empty."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"USE_FRESH_EVENTS"}),", ",(0,i.jsx)(n.code,{children:"USE_INTRADAY_EVENTS"})," \u2013 control whether ",(0,i.jsx)(n.code,{children:"fresh_*"})," and ",(0,i.jsx)(n.code,{children:"intraday_*"})," shards are included."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"EXTRA_GA4_DATASETS_ARRAY"})," \u2013 additional analytics datasets to UNION."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CUSTOM_EVENT_PARAMS_ARRAY"})," \u2192 added to ",(0,i.jsx)(n.code,{children:"event_params_custom"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CUSTOM_USER_PROPERTIES_ARRAY"})," \u2192 added to ",(0,i.jsx)(n.code,{children:"user_properties"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CUSTOM_ITEM_PARAMS_ARRAY"})," \u2192 added to ",(0,i.jsx)(n.code,{children:"items.item_params_custom"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CUSTOM_URL_PARAMS_ARRAY"})," \u2192 added to ",(0,i.jsx)(n.code,{children:"url_params_custom"})," (if configured)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"EVENTS_TO_EXCLUDE"})," Event denylist."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HOSTNAME_EXCLUDE"}),"/",(0,i.jsx)(n.code,{children:"HOSTNAME_INCLUDE_ONLY"})," Hostname allowlist / denylist."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var i=s(6540);const t={},d=i.createContext(t);function r(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);